<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pluck or chuck a single element from a vector or environment — pluck • purrr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../.css" rel="stylesheet">




<meta property="og:title" content="Pluck or chuck a single element from a vector or environment — pluck" />
<meta property="og:description" content="pluck() and chuck() implement a generalised form of [[ that
allow you to index deeply and flexibly into data structures.
pluck() consistently returns NULL when an element does not
exist, chuck() always throws an error in that case." />
<meta property="og:image" content="https://purrr.tidyverse.org/logo.png" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">purrr</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.3.4.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/other-langs.html">Functional programming in other languages</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Releases</li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/02/purrr-0-3-0/">Version 0.3.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2017/08/purrr-0.2.3/">Version 0.2.3</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
        <li>
  <a href="https://github.com/tidyverse/purrr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Pluck or chuck a single element from a vector or environment</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidyverse/purrr/blob/master/R/pluck.R'><code>R/pluck.R</code></a></small>
    <div class="hidden name"><code>pluck.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>pluck()</code> and <code>chuck()</code> implement a generalised form of <code>[[</code> that
allow you to index deeply and flexibly into data structures.
<code>pluck()</code> consistently returns <code>NULL</code> when an element does not
exist, <code>chuck()</code> always throws an error in that case.</p>
    </div>

    <pre class="usage"><span class='fu'>pluck</span>(<span class='no'>.x</span>, <span class='no'>...</span>, <span class='kw'>.default</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>chuck</span>(<span class='no'>.x</span>, <span class='no'>...</span>)

<span class='fu'>pluck</span>(<span class='no'>.x</span>, <span class='no'>...</span>) <span class='kw'>&lt;-</span> <span class='no'>value</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.x, x</th>
      <td><p>A vector or environment</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>A list of accessors for indexing into the object. Can be
an integer position, a string name, or an accessor function
(except for the assignment variants which only support names and
positions). If the object being indexed is an S4 object,
accessing it by name will return the corresponding slot.</p>
<p>These dots support <a href='https://rlang.r-lib.org/reference/list2.html'>tidy dots</a> features. In
particular, if your accessors are stored in a list, you can
splice that in with <code>!!!</code>.</p></td>
    </tr>
    <tr>
      <th>.default</th>
      <td><p>Value to use if target is empty or absent.</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>A value to replace in <code>.x</code> at the pluck location.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<ul>
<li><p>You can pluck or chuck with standard accessors like integer
positions and string names, and also accepts arbitrary accessor
functions, i.e. functions that take an object and return some
internal piece.</p>
<p>This is often more readable than a mix of operators and accessors
because it reads linearly and is free of syntactic
cruft. Compare: <code>accessor(x[[1]])$foo</code> to <code>pluck(x, 1, accessor, "foo")</code>.</p></li>
<li><p>These accessors never partial-match. This is unlike <code>$</code> which
will select the <code>disp</code> object if you write <code>mtcars$di</code>.</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='attr_getter.html'>attr_getter()</a></code> for creating attribute getters suitable
for use with <code>pluck()</code> and <code>chuck()</code>. <code><a href='modify_in.html'>modify_in()</a></code> for
applying a function to a pluck location.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Let's create a list of data structures:</span>
<span class='no'>obj1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"a"</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fl'>1</span>, <span class='kw'>elt</span> <span class='kw'>=</span> <span class='st'>"foo"</span>))
<span class='no'>obj2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"b"</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fl'>2</span>, <span class='kw'>elt</span> <span class='kw'>=</span> <span class='st'>"bar"</span>))
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='no'>obj1</span>, <span class='no'>obj2</span>)


<span class='co'># pluck() provides a way of retrieving objects from such data</span>
<span class='co'># structures using a combination of numeric positions, vector or</span>
<span class='co'># list names, and accessor functions.</span>

<span class='co'># Numeric positions index into the list by position, just like `[[`:</span>
<span class='fu'>pluck</span>(<span class='no'>x</span>, <span class='fl'>1</span>)</div><div class='output co'>#&gt; [[1]]
#&gt; [1] "a"
#&gt; 
#&gt; [[2]]
#&gt; [[2]][[1]]
#&gt; [1] 1
#&gt; 
#&gt; [[2]]$elt
#&gt; [1] "foo"
#&gt; 
#&gt; </div><div class='input'><span class='no'>x</span><span class='kw'>[[</span><span class='fl'>1</span>]]</div><div class='output co'>#&gt; [[1]]
#&gt; [1] "a"
#&gt; 
#&gt; [[2]]
#&gt; [[2]][[1]]
#&gt; [1] 1
#&gt; 
#&gt; [[2]]$elt
#&gt; [1] "foo"
#&gt; 
#&gt; </div><div class='input'>
<span class='fu'>pluck</span>(<span class='no'>x</span>, <span class='fl'>1</span>, <span class='fl'>2</span>)</div><div class='output co'>#&gt; [[1]]
#&gt; [1] 1
#&gt; 
#&gt; $elt
#&gt; [1] "foo"
#&gt; </div><div class='input'><span class='no'>x</span><span class='kw'>[[</span><span class='fl'>1</span>]]<span class='kw'>[[</span><span class='fl'>2</span>]]</div><div class='output co'>#&gt; [[1]]
#&gt; [1] 1
#&gt; 
#&gt; $elt
#&gt; [1] "foo"
#&gt; </div><div class='input'>
<span class='co'># Supply names to index into named vectors:</span>
<span class='fu'>pluck</span>(<span class='no'>x</span>, <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='st'>"elt"</span>)</div><div class='output co'>#&gt; [1] "foo"</div><div class='input'><span class='no'>x</span><span class='kw'>[[</span><span class='fl'>1</span>]]<span class='kw'>[[</span><span class='fl'>2</span>]]<span class='kw'>[[</span><span class='st'>"elt"</span>]]</div><div class='output co'>#&gt; [1] "foo"</div><div class='input'>

<span class='co'># By default, pluck() consistently returns `NULL` when an element</span>
<span class='co'># does not exist:</span>
<span class='fu'>pluck</span>(<span class='no'>x</span>, <span class='fl'>10</span>)</div><div class='output co'>#&gt; NULL</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/try.html'>try</a></span>(<span class='no'>x</span><span class='kw'>[[</span><span class='fl'>10</span>]])</div><div class='output co'>#&gt; Error in x[[10]] : subscript out of bounds</div><div class='input'>
<span class='co'># You can also supply a default value for non-existing elements:</span>
<span class='fu'>pluck</span>(<span class='no'>x</span>, <span class='fl'>10</span>, <span class='kw'>.default</span> <span class='kw'>=</span> <span class='fl'>NA</span>)</div><div class='output co'>#&gt; [1] NA</div><div class='input'>
<span class='co'># If you prefer to consistently fail for non-existing elements, use</span>
<span class='co'># the opinionated variant chuck():</span>
<span class='fu'>chuck</span>(<span class='no'>x</span>, <span class='fl'>1</span>)</div><div class='output co'>#&gt; [[1]]
#&gt; [1] "a"
#&gt; 
#&gt; [[2]]
#&gt; [[2]][[1]]
#&gt; [1] 1
#&gt; 
#&gt; [[2]]$elt
#&gt; [1] "foo"
#&gt; 
#&gt; </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/try.html'>try</a></span>(<span class='fu'>chuck</span>(<span class='no'>x</span>, <span class='fl'>10</span>))</div><div class='output co'>#&gt; Error : Index 1 exceeds the length of plucked object (10 &gt; 2)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/try.html'>try</a></span>(<span class='fu'>chuck</span>(<span class='no'>x</span>, <span class='fl'>1</span>, <span class='fl'>10</span>))</div><div class='output co'>#&gt; Error : Index 2 exceeds the length of plucked object (10 &gt; 2)</div><div class='input'>

<span class='co'># The map() functions use pluck() by default to retrieve multiple</span>
<span class='co'># values from a list:</span>
<span class='fu'><a href='map.html'>map</a></span>(<span class='no'>x</span>, <span class='fl'>2</span>)</div><div class='output co'>#&gt; [[1]]
#&gt; [[1]][[1]]
#&gt; [1] 1
#&gt; 
#&gt; [[1]]$elt
#&gt; [1] "foo"
#&gt; 
#&gt; 
#&gt; [[2]]
#&gt; [[2]][[1]]
#&gt; [1] 2
#&gt; 
#&gt; [[2]]$elt
#&gt; [1] "bar"
#&gt; 
#&gt; </div><div class='input'>
<span class='co'># Pass multiple indexes with a list:</span>
<span class='fu'><a href='map.html'>map</a></span>(<span class='no'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fl'>2</span>, <span class='st'>"elt"</span>))</div><div class='output co'>#&gt; [[1]]
#&gt; [1] "foo"
#&gt; 
#&gt; [[2]]
#&gt; [1] "bar"
#&gt; </div><div class='input'>
<span class='co'># This is equivalent to:</span>
<span class='fu'><a href='map.html'>map</a></span>(<span class='no'>x</span>, <span class='no'>pluck</span>, <span class='fl'>2</span>, <span class='st'>"elt"</span>)</div><div class='output co'>#&gt; [[1]]
#&gt; [1] "foo"
#&gt; 
#&gt; [[2]]
#&gt; [1] "bar"
#&gt; </div><div class='input'>
<span class='co'># You can also supply a default:</span>
<span class='fu'><a href='map.html'>map</a></span>(<span class='no'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fl'>2</span>, <span class='st'>"elt"</span>, <span class='fl'>10</span>), <span class='kw'>.default</span> <span class='kw'>=</span> <span class='st'>"superb default"</span>)</div><div class='output co'>#&gt; [[1]]
#&gt; [1] "superb default"
#&gt; 
#&gt; [[2]]
#&gt; [1] "superb default"
#&gt; </div><div class='input'>
<span class='co'># Or use the strict variant:</span>
<span class='fu'><a href='https://rdrr.io/r/base/try.html'>try</a></span>(<span class='fu'><a href='map.html'>map</a></span>(<span class='no'>x</span>, <span class='no'>chuck</span>, <span class='fl'>2</span>, <span class='st'>"elt"</span>, <span class='fl'>10</span>))</div><div class='output co'>#&gt; Error : Index 3 exceeds the length of plucked object (10 &gt; 1)</div><div class='input'>

<span class='co'># You can also assign a value in a pluck location with pluck&lt;-:</span>
<span class='fu'>pluck</span>(<span class='no'>x</span>, <span class='fl'>2</span>, <span class='fl'>2</span>, <span class='st'>"elt"</span>) <span class='kw'>&lt;-</span> <span class='st'>"quuux"</span>
<span class='no'>x</span></div><div class='output co'>#&gt; [[1]]
#&gt; [[1]][[1]]
#&gt; [1] "a"
#&gt; 
#&gt; [[1]][[2]]
#&gt; [[1]][[2]][[1]]
#&gt; [1] 1
#&gt; 
#&gt; [[1]][[2]]$elt
#&gt; [1] "foo"
#&gt; 
#&gt; 
#&gt; 
#&gt; [[2]]
#&gt; [[2]][[1]]
#&gt; [1] "b"
#&gt; 
#&gt; [[2]][[2]]
#&gt; [[2]][[2]][[1]]
#&gt; [1] 2
#&gt; 
#&gt; [[2]][[2]]$elt
#&gt; [1] "quuux"
#&gt; 
#&gt; 
#&gt; </div><div class='input'>
<span class='co'># This is a shortcut for the prefix function assign_in():</span>
<span class='no'>y</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='modify_in.html'>assign_in</a></span>(<span class='no'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fl'>2</span>, <span class='fl'>2</span>, <span class='st'>"elt"</span>), <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"QUUUX"</span>)
<span class='no'>y</span></div><div class='output co'>#&gt; [[1]]
#&gt; [[1]][[1]]
#&gt; [1] "a"
#&gt; 
#&gt; [[1]][[2]]
#&gt; [[1]][[2]][[1]]
#&gt; [1] 1
#&gt; 
#&gt; [[1]][[2]]$elt
#&gt; [1] "foo"
#&gt; 
#&gt; 
#&gt; 
#&gt; [[2]]
#&gt; [[2]][[1]]
#&gt; [1] "b"
#&gt; 
#&gt; [[2]][[2]]
#&gt; [[2]][[2]][[1]]
#&gt; [1] 2
#&gt; 
#&gt; [[2]][[2]]$elt
#&gt; [1] "QUUUX"
#&gt; 
#&gt; 
#&gt; </div><div class='input'>

<span class='co'># pluck() also supports accessor functions:</span>
<span class='no'>my_element</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>x</span>) <span class='no'>x</span><span class='kw'>[[</span><span class='fl'>2</span>]]$<span class='no'>elt</span>

<span class='co'># The accessor can then be passed to pluck:</span>
<span class='fu'>pluck</span>(<span class='no'>x</span>, <span class='fl'>1</span>, <span class='no'>my_element</span>)</div><div class='output co'>#&gt; [1] "foo"</div><div class='input'><span class='fu'>pluck</span>(<span class='no'>x</span>, <span class='fl'>2</span>, <span class='no'>my_element</span>)</div><div class='output co'>#&gt; [1] "quuux"</div><div class='input'>
<span class='co'># Even for this simple data structure, this is more readable than</span>
<span class='co'># the alternative form because it requires you to read both from</span>
<span class='co'># right-to-left and from left-to-right in different parts of the</span>
<span class='co'># expression:</span>
<span class='fu'>my_element</span>(<span class='no'>x</span><span class='kw'>[[</span><span class='fl'>1</span>]])</div><div class='output co'>#&gt; [1] "foo"</div><div class='input'>

<span class='co'># If you have a list of accessors, you can splice those in with `!!!`:</span>
<span class='no'>idx</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fl'>1</span>, <span class='no'>my_element</span>)
<span class='fu'>pluck</span>(<span class='no'>x</span>, !!!<span class='no'>idx</span>)</div><div class='output co'>#&gt; [1] "foo"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>purrr is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="https://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by <a href='http://hadley.nz'>Hadley Wickham</a>, Lionel Henry, <a href='https://www.rstudio.com'><img src='https://www.tidyverse.org/rstudio-logo.svg' alt='RStudio' height='24' /></a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


